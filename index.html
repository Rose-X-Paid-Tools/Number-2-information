<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ùôΩùöÑùôºùô±ùô¥ùöÅ ùô≥ùô¥ùöÉùô∞ùô∏ùôª</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', monospace;
        }
        
        body {
            background-color: #0a0a0a;
            color: #00ff00;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow: hidden;
            position: relative;
        }
        
        /* Falling code animation */
        .code-rain {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .code {
            position: absolute;
            color: #00ff00;
            font-size: 14px;
            opacity: 0.6;
            animation: fall linear infinite;
            text-shadow: 0 0 5px #00ff00;
        }
        
        @keyframes fall {
            to {
                transform: translateY(100vh);
            }
        }
        
        .container {
            width: 100%;
            max-width: 500px;
            background: rgba(10, 15, 10, 0.9);
            border: 1px solid #00ff00;
            border-radius: 5px;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
            overflow: hidden;
            position: relative;
            z-index: 2;
        }
        
        .header {
            background: #001100;
            color: #00ff00;
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid #00ff00;
            position: relative;
        }
        
        .header h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
            text-shadow: 0 0 10px #00ff00;
        }
        
        .header p {
            font-size: 1rem;
            opacity: 0.8;
        }
        
        .blink {
            animation: blink 2s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .auth-container {
            padding: 25px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #00ff00;
        }
        
        .input-wrapper {
            display: flex;
            align-items: center;
            border: 1px solid #00ff00;
            border-radius: 3px;
            overflow: hidden;
            transition: all 0.3s;
            background: rgba(0, 20, 0, 0.5);
        }
        
        .input-wrapper:focus-within {
            box-shadow: 0 0 10px #00ff00;
            border-color: #00ff00;
        }
        
        .input-wrapper input {
            flex: 1;
            border: none;
            outline: none;
            padding: 15px;
            font-size: 16px;
            background: transparent;
            color: #00ff00;
        }
        
        .input-wrapper input::placeholder {
            color: #008800;
            font-size: 14px;
        }
        
        .input-wrapper .icon {
            padding: 0 15px;
            color: #00ff00;
            font-size: 20px;
        }
        
        button {
            width: 100%;
            padding: 15px;
            background: #003300;
            color: #00ff00;
            border: 1px solid #00ff00;
            border-radius: 3px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        button:hover {
            background: #004400;
            box-shadow: 0 0 15px #00ff00;
        }
        
        button:disabled {
            background: #002200;
            color: #008800;
            cursor: not-allowed;
            border-color: #008800;
        }
        
        .form-container {
            padding: 25px;
            display: none;
        }
        
        .password-info {
            background: rgba(0, 20, 0, 0.3);
            padding: 15px;
            border: 1px solid #00ff00;
            border-radius: 3px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .password-info p {
            margin: 5px 0;
        }
        
        .time-remaining {
            color: #ff9900;
            font-weight: bold;
            font-size: 18px;
        }
        
        .redirect-info {
            display: none;
            background: rgba(0, 20, 0, 0.3);
            padding: 15px;
            border: 1px solid #00ff00;
            border-radius: 3px;
            margin: 15px 25px;
            text-align: center;
            color: #00ff00;
        }
        
        .owner-text {
            margin-top: 15px;
            font-size: 14px;
            color: #00cc00;
            border-top: 1px dashed #00cc00;
            padding-top: 10px;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: #00ff00;
        }
        
        .terminal-loader {
            border: 1px solid #00ff00;
            background-color: #001100;
            border-radius: 3px;
            padding: 15px;
            margin: 10px 0;
        }
        
        .terminal-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            border-bottom: 1px solid #00ff00;
            padding-bottom: 5px;
        }
        
        .terminal-controls {
            display: flex;
        }
        
        .control {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 5px;
        }
        
        .exit {
            background-color: #ff0000;
        }
        
        .minimize {
            background-color: #ffcc00;
        }
        
        .maximize {
            background-color: #00cc00;
        }
        
        .terminal-title {
            color: #00ff00;
            font-size: 14px;
        }
        
        .terminal-text {
            color: #00ff00;
            font-family: 'Courier New', monospace;
        }
        
        .progress-bar {
            height: 10px;
            width: 100%;
            background-color: #001100;
            border: 1px solid #00ff00;
            border-radius: 3px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            width: 0%;
            background-color: #00ff00;
            animation: progress 2s infinite;
        }
        
        @keyframes progress {
            0% { width: 0%; }
            50% { width: 70%; }
            100% { width: 100%; }
        }
        
        .error {
            display: none;
            background: rgba(50, 0, 0, 0.3);
            color: #ff0000;
            padding: 15px;
            border: 1px solid #ff0000;
            border-radius: 3px;
            margin: 20px 25px;
            text-align: center;
        }
        
        .scan-line {
            height: 2px;
            background: linear-gradient(to right, transparent, #00ff00, transparent);
            position: absolute;
            top: 0;
            width: 100%;
            animation: scan 3s linear infinite;
        }
        
        @keyframes scan {
            0% { top: 0; }
            100% { top: 100%; }
        }
        
        .webview-container {
            display: none;
            width: 100%;
            height: 500px;
            border: 1px solid #00ff00;
            margin: 20px 0;
            background: black;
        }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        @media (max-width: 600px) {
            .container {
                border-radius: 3px;
            }
            
            .header {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .auth-container, .form-container {
                padding: 20px;
            }
            
            .input-wrapper input::placeholder {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="code-rain" id="code-rain"></div>
    <div class="scan-line"></div>
    
    <div class="container">
        <div class="header">
            <h1>PHONE NUMBER INFO</h1>
            <p>ENTER PASSWORD TO ACCESS</p>
        </div>
        
        <div class="auth-container" id="auth-container">
            <div class="input-group">
                <label for="password">ACCESS PASSWORD</label>
                <div class="input-wrapper">
                    <div class="icon">
                        <i class="fas fa-key"></i>
                    </div>
                    <input type="password" id="password" placeholder="Enter Password Provided By Admin">
                </div>
            </div>
            
            <button id="login-btn">
                <span class="blink">UNLOCK üîê</span>
            </button>
        </div>
        
        <div class="form-container" id="form-container">
            <div class="password-info" id="password-info">
                <p>PASSWORD STATUS: <span id="password-status">ACTIVE</span></p>
                <p>TIME REMAINING: <span id="time-remaining" class="time-remaining">CALCULATING...</span></p>
            </div>
            
            <div class="input-group">
                <label for="phone">TARGET NUMBER</label>
                <div class="input-wrapper">
                    <div class="icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <input type="tel" id="phone" placeholder="ENTER 10-DIGIT NUMBER" maxlength="10">
                </div>
            </div>
            
            <button id="lookup-btn">
                <span class="blink">CHECK</span>
            </button>
        </div>
        
        <div class="loading" id="loading">
            <div class="terminal-loader">
                <div class="terminal-header">
                    <div class="terminal-title">scan_progress.exe</div>
                    <div class="terminal-controls">
                        <div class="control exit"></div>
                        <div class="control minimize"></div>
                        <div class="control maximize"></div>
                    </div>
                </div>
                <div class="terminal-text">
                    > CONNECTING TO DATABASE...<br>
                    > INITIATING NUMBER SCAN...<br>
                    > BYPASSING SECURITY Rose-X Tools...<br>
                    > RETRIEVING TARGET INFORMATION...
                </div>
                <div class="progress-bar">
                    <div class="progress"></div>
                </div>
            </div>
        </div>
        
        <div class="error" id="error-message">
            <i class="fas fa-exclamation-circle"></i>
            <p id="error-text">> SYSTEM ERROR: UNABLE TO RETRIEVE TARGET DATA</p>
        </div>
        
        <div class="redirect-info" id="redirect-info">
            <p>> REDIRECTING TO TARGET INFORMATION...</p>
            <div class="owner-text">Owner By Rose-X</div>
        </div>
        
        <div class="webview-container" id="webview-container">
            <iframe id="api-frame" src="about:blank"></iframe>
        </div>
    </div>

    <!-- Firebase App (core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <!-- Firebase Database -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>

    <script>
        // Initialize Firebase
        const firebaseConfig = {
            databaseURL: "https://number-2-information-default-rtdb.firebaseio.com/"
        };
        
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        
        document.addEventListener('DOMContentLoaded', function() {
            const codeRain = document.getElementById('code-rain');
            const authContainer = document.getElementById('auth-container');
            const formContainer = document.getElementById('form-container');
            const passwordInfo = document.getElementById('password-info');
            const passwordStatus = document.getElementById('password-status');
            const timeRemaining = document.getElementById('time-remaining');
            const passwordInput = document.getElementById('password');
            const loginBtn = document.getElementById('login-btn');
            const phoneInput = document.getElementById('phone');
            const lookupBtn = document.getElementById('lookup-btn');
            const loading = document.getElementById('loading');
            const errorMessage = document.getElementById('error-message');
            const errorText = document.getElementById('error-text');
            const redirectInfo = document.getElementById('redirect-info');
            const webviewContainer = document.getElementById('webview-container');
            const apiFrame = document.getElementById('api-frame');
            
            let passwordExpiration = null;
            let timeUpdateInterval = null;
            
            // Create enhanced falling code animation
            function createCodeRain() {
                const characters = 'ÔºêÔºëÔºêÔºëÔºêÔºëÔºêÔºëÔºêÔºëÔºêÔºëÔºêÔºëÔºêÔºëÔºêÔºëÔºêÔºëÔºêÔºëÔºêÔºëÔºêÔºëÔºêÔºëÔºêÔºëÔºêÔºëÔº°Ôº¢Ôº£Ôº§Ôº•Ôº¶ÔºßÔº®Ôº©Ôº™Ôº´Ôº¨Ôº≠ÔºÆÔºØÔº∞Ôº±Ôº≤Ôº≥Ôº¥ÔºµÔº∂Ôº∑Ôº∏ÔºπÔº∫ÔºêÔºëÔºíÔºìÔºîÔºïÔºñÔºóÔºòÔºôÔºÑÔºÖÔºæÔºÜÔºäÔºàÔºâ';
                const screenWidth = window.innerWidth;
                
                for (let i = 0; i < 150; i++) {
                    const code = document.createElement('div');
                    code.className = 'code';
                    code.textContent = characters.charAt(Math.floor(Math.random() * characters.length));
                    code.style.left = Math.random() * screenWidth + 'px';
                    code.style.animationDuration = (Math.random() * 3 + 1) + 's';
                    code.style.animationDelay = Math.random() * 2 + 's';
                    code.style.fontSize = (Math.random() * 6 + 12) + 'px';
                    code.style.opacity = Math.random() * 0.5 + 0.3;
                    codeRain.appendChild(code);
                }
            }
            
            createCodeRain();
            
            // Format time remaining
            function formatTimeRemaining(milliseconds) {
                if (milliseconds <= 0) return "EXPIRED";
                
                const seconds = Math.floor(milliseconds / 1000);
                const minutes = Math.floor(seconds / 60);
                const hours = Math.floor(minutes / 60);
                const days = Math.floor(hours / 24);
                
                if (days > 0) return `${days}d ${hours % 24}h ${minutes % 60}m`;
                if (hours > 0) return `${hours}h ${minutes % 60}m ${seconds % 60}s`;
                if (minutes > 0) return `${minutes}m ${seconds % 60}s`;
                return `${seconds}s`;
            }
            
            // Update time remaining display
            function updateTimeDisplay() {
                if (!passwordExpiration) return;
                
                const now = Date.now();
                const remaining = passwordExpiration - now;
                
                if (remaining <= 0) {
                    timeRemaining.textContent = "EXPIRED";
                    passwordStatus.textContent = "EXPIRED";
                    passwordStatus.style.color = "#ff0000";
                    clearInterval(timeUpdateInterval);
                    
                    // Log out user if password expired
                    setTimeout(() => {
                        alert("PASSWORD HAS EXPIRED PLEASE CONTACT ADMIN FOR A NEW PASSWORD");
                        localStorage.removeItem('password');
                        localStorage.removeItem('passwordExpiration');
                        window.location.reload();
                    }, 2000);
                } else {
                    timeRemaining.textContent = formatTimeRemaining(remaining);
                }
            }
            
            // Check if already logged in with valid password
            const savedPassword = localStorage.getItem('password');
            const savedExpiration = localStorage.getItem('passwordExpiration');
            
            if (savedPassword && savedExpiration && Date.now() < parseInt(savedExpiration)) {
                // Password is still valid
                authContainer.style.display = 'none';
                formContainer.style.display = 'block';
                passwordExpiration = parseInt(savedExpiration);
                
                // Start updating time display
                updateTimeDisplay();
                timeUpdateInterval = setInterval(updateTimeDisplay, 1000);
            } else {
                // Password expired or not found
                localStorage.removeItem('password');
                localStorage.removeItem('passwordExpiration');
            }
            
            // Login functionality
            loginBtn.addEventListener('click', function() {
                const password = passwordInput.value.trim();
                
                if (!password) {
                    showError('> ERROR: PLEASE ENTER PASSWORD');
                    return;
                }
                
                loginBtn.disabled = true;
                loginBtn.innerHTML = 'VERIFYING...';
                
                // Check password in Firebase
                database.ref('passwords').once('value')
                    .then(snapshot => {
                        if (!snapshot.exists()) {
                            throw new Error('No passwords found in system');
                        }
                        
                        let validPassword = false;
                        let passwordData = null;
                        let passwordId = null;
                        
                        // Check all passwords for a match
                        snapshot.forEach(childSnapshot => {
                            const pwdData = childSnapshot.val();
                            if (pwdData.password === password) {
                                validPassword = true;
                                passwordData = pwdData;
                                passwordId = childSnapshot.key;
                            }
                        });
                        
                        if (!validPassword) {
                            throw new Error('I…¥·¥†·¥Ä ü…™·¥Ö ·¥ò·¥Äss·¥°·¥è Ä·¥Ö');
                        }
                        
                        // Check if password is active
                        if (!passwordData.active) {
                            throw new Error('P·¥Äss·¥°·¥è Ä·¥Ö  ú·¥Äs  ô·¥á·¥á…¥ ·¥Ö·¥á·¥Ä·¥Ñ·¥õ…™·¥†·¥Ä·¥õ·¥á·¥Ö  ô è ·¥Ä·¥Ö·¥ç…™…¥');
                        }
                        
                        // Check if password is expired
                        if (passwordData.expiration && Date.now() > passwordData.expiration) {
                            throw new Error('P·¥Äss·¥°·¥è Ä·¥Ö  ú·¥Äs ·¥áx·¥ò…™ Ä·¥á·¥Ö');
                        }
                        
                        // Login successful - save to localStorage
                        localStorage.setItem('password', password);
                        if (passwordData.expiration) {
                            localStorage.setItem('passwordExpiration', passwordData.expiration);
                            passwordExpiration = passwordData.expiration;
                        } else {
                            // For lifetime passwords, set expiration far in the future
                            const farFuture = Date.now() + (10 * 365 * 24 * 60 * 60 * 1000); // 10 years
                            localStorage.setItem('passwordExpiration', farFuture);
                            passwordExpiration = farFuture;
                        }
                        
                        authContainer.style.display = 'none';
                        formContainer.style.display = 'block';
                        
                        // Update time display
                        updateTimeDisplay();
                        if (timeUpdateInterval) clearInterval(timeUpdateInterval);
                        timeUpdateInterval = setInterval(updateTimeDisplay, 1000);
                    })
                    .catch(error => {
                        showError('> ACCESS DENIED: ' + error.message);
                        loginBtn.disabled = false;
                        loginBtn.innerHTML = '<span class="blink">ACCESS SYSTEM</span>';
                    });
            });
            
            // Only allow numeric input and limit to 10 digits
            phoneInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 10) {
                    value = value.slice(0, 10);
                }
                e.target.value = value;
            });
            
            lookupBtn.addEventListener('click', function() {
                const phoneNumber = phoneInput.value.trim();
                
                // Validate input
                if (!phoneNumber) {
                    showError('> ERROR: PLEASE ENTER TARGET NUMBER');
                    return;
                }
                
                if (phoneNumber.length !== 10) {
                    showError('> ERROR: INVALID NUMBER FORMAT. 10 DIGITS REQUIRED');
                    return;
                }
                
                // Clear previous results
                hideMessages();
                
                // Show loading
                loading.style.display = 'block';
                lookupBtn.disabled = true;
                
                // Simulate loading process
                setTimeout(function() {
                    loading.style.display = 'none';
                    
                    // Construct the API URL with the NEW endpoint
                    const apiEndpoint = `https://swapi-num-api.onrender.com/info?api_key=swapipy&mobile=${phoneNumber}`;
                    
                    // Show redirect information
                    redirectInfo.style.display = 'block';
                    
                    // Load the API URL in the iframe
                    apiFrame.src = apiEndpoint;
                    webviewContainer.style.display = 'block';
                    
                    // Scroll to the WebView
                    webviewContainer.scrollIntoView({ behavior: 'smooth' });
                    
                    lookupBtn.disabled = false;
                }, 2000);
            });
            
            function showError(message) {
                errorText.textContent = message;
                errorMessage.style.display = 'block';
            }
            
            function hideMessages() {
                errorMessage.style.display = 'none';
                redirectInfo.style.display = 'none';
                webviewContainer.style.display = 'none';
            }
        });
    </script>
</body>
</html>